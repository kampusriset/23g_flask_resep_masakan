{% extends 'base.html' %} {% block header %}
<h2>{% block title %} Details Resep {% endblock title %}</h2>
{% endblock header %} {% block content %}

<!-- Details -->
<section class="bg-amber-50">
  <div class="container mx-auto mt-10 px-4 py-8">
    <nav aria-label="breadcrumb" class="w-max">
      <ol class="flex w-full flex-wrap items-center rounded-md bg-white px-4 py-2">
        <li class="flex cursor-pointer items-center text-sm text-slate-500 transition-colors duration-300 hover:text-slate-800">
          <a href="/">
            <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4" viewBox="0 0 20 20" fill="currentColor">
              <path d="M10.707 2.293a1 1 0 00-1.414 0l-7 7a1 1 0 001.414 1.414L4 10.414V17a1 1 0 001 1h2a1 1 0 001-1v-2a1 1 0 011-1h2a1 1 0 011 1v2a1 1 0 001 1h2a1 1 0 001-1v-6.586l.293.293a1 1 0 001.414-1.414l-7-7z"></path>
            </svg>
          </a>
          <span class="pointer-events-none mx-2 text-slate-800"> / </span>
        </li>
        <li class="flex cursor-pointer items-center text-sm text-slate-500 transition-colors duration-300 hover:text-slate-800">
          <a href="#">Detail Resep</a>
        </li>
      </ol>
    </nav>
    <div class="flex flex-col lg:flex-row gap-8 bg-white rounded-lg shadow-md p-6">
      <!-- Gambar -->
      <div class="lg:w-1/2 flex flex-col items-center">
        <img src="{{ url_for('static', filename='uploads/' + data['gambar'].split('/')[-1]) }}" alt="{{ data['nama'] }}" class="w-full h-full object-cover rounded-lg" />
        <div class="bg-white p-6">
          <!-- Tombol Mulai Masak -->
          <button onclick="toggleChecklist()" id="toggleButton" class="bg-gradient-to-r from-teal-500 to-blue-500 text-white font-semibold py-2 px-4 rounded-lg shadow-md hover:from-pink-500 hover:to-orange-500 transition-all duration-300">
            Mulai Persiapan
          </button>

          <!-- Checklist Alat dan Bahan -->
          <div id="checklistSection" class="hidden mt-6 space-y-4">
            <h2 class="text-lg font-bold text-gray-700">Checklist Alat dan Bahan</h2>
            <ul id="checklistItems" class="space-y-2">
              {% for item in data['alat_dan_bahan'] %}
              <li class="flex items-center">
                <input type="checkbox" class="mr-3 h-4 w-4 text-teal-500 rounded border-gray-300" id="item{{ loop.index }}" onchange="updateProgress()" />
                <label for="item{{ loop.index }}" class="text-sm text-gray-600">{{ item }}</label>
              </li>
              {% endfor %}
            </ul>
            <p id="progressText" class="text-sm text-gray-700 mt-4">0/{{ data['alat_dan_bahan']|length }} bahan sudah siap.</p>
          </div>
        </div>
      </div>

      <!-- Informasi -->
      <div class="lg:w-1/2 flex flex-col space-y-4">
        <h1 class="text-2xl font-bold text-gray-800">{{ data['nama'] }}</h1>
        <p class="mt-4 text-sm text-gray-700">{{ data['deskripsi'] }}</p>
        <p class="text-gray-600 text-sm">Oleh: <span class="font-semibold">{{ data['oleh'] }}</span></p>
        <p class="text-gray-600 text-sm">Kategori: <span class="font-semibold">{{ data['kategori'] }}</span></p>
        <div class="flex items-center text-sm text-gray-600">
          <svg xmlns="http://www.w3.org/2000/svg" class="w-5 h-5 mr-2 text-red-500" fill="none" viewBox="0 0 24 24" stroke="currentColor">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 6v6h4" />
            <circle cx="12" cy="12" r="10" />
          </svg>
          Waktu Masak: <span class="ml-2 font-semibold">{{ data['waktu'] }} Menit</span>
        </div>
        <div class="grid grid-cols-1 gap-6 mt-4">
          <!-- Alat dan Bahan -->
          <div>
            <h2 class="text-lg font-bold text-gray-700 mb-2">Alat dan Bahan:</h2>
            <ul class="list-disc pl-6 space-y-1 text-sm text-gray-600">
              {% for item in data['alat_dan_bahan'] %}
              <li>{{ item }}</li>
              {% endfor %}
            </ul>
          </div>

          <!-- Cara Memasak -->
          <div>
            <h2 class="text-lg font-bold text-gray-700 mb-2">Cara Memasak:</h2>
            <div class="pl-6 space-y-1 text-sm text-gray-600">
              {% for langkah in data['langkah_langkah'] %}
              <div class="flex">
                <span class="mr-2 font-semibold">{{ loop.index }}.</span>
                <span>{{ langkah|strip_numbering }}</span>
              </div>
              {% endfor %}
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</section>
{% endblock content %}
